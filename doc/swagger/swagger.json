{
  "swagger": "2.0",
  "info": {
    "title": "EbicsBox",
    "description": "A modern API for bank accounts. Fully automatize processing of incoming and outgoing money\ntransactions. It enables high-level access to some EBCIS features and wrapps them with further\nfunctinality.\n\n\n## Clarification of terms\n\n### EREF\n\nThe most important building block of the EBICS::BOX is the EREF aka \"End to End ID\" or\n\"End to End Reference\". It is a universal identifier that will be used to recognize transactions\nthroughout their whole lifecycle. The maximum length is 35 characters.\n\n### Matchmaking\n\nEvery time a new \"outgoing\" transaction is created (debit or credit) the EREF will be stored on\nthe internal watchlist, whenever we're seeing these IDs in new transactions you'll get notified\nvia Webhooks. The most used use case will be to identify chargebacks or detect that the money\nwas actullay transfered from your bank account.\n\n### Media Types\n\nAll actions require and return JSON formatted data. Timestamps are always formatted using\nISO 8601. All data is UTF-8 encoded.\n\n    Content-Type: application/json\n\n### Errors\n\nErrorsDue to its REST nature, the API returns proper http error codes. Usually status codes in\nthe 2xx range indicate a successful operation, 4xx indicates an error resulting from the\nprovided attributes. And errors in the 5xx range indicate a problem in the EBICS::BOX. The JSON\nobject returned looks like the following:\n\n    {\n      \"message\": \"Human readable description of the error\",\n      \"errors\": {\n        \"<field>\": [ \"some error\", \"another error\" ]\n      }\n    }\n\n### Versioning\n\nIf not specified otherwise, the API will always use the most recent version available. In order\nto use a specific version, clients need to request it via header:\n```Accept: application/vnd.ebicsbox.v1+json```.\n\nPlease note that we expect applications to be flexible enought to accept additional fields\nwithout a major version change. Breaking changes, like changed behaviour and removal or renaming\nof fields will always result in a version number bump.\n\n### Prerequisites\n\nTo use every feature that is offered by the EBICS::BOX you should make sure that your bank\nsupports and offers the respective order types.\n\n* Transaction Import - ```STA```\n* Usage protocols - ```HAC```\n* Credits - ```CCT```\n* Debits - ```CD1```, ```CDD``` or ```B2B```\n\nFurthermore to process direct debits you'll have to obtain a Creditor Identification Number from\nthe [Bundesbank](http://www.bundesbank.de/Navigation/DE/Aufgaben/Unbarer_Zahlungsverkehr/SEPA/Glaeubiger_Identifikationsnummer/glaeubiger_identifikationsnummer.html)\nand sign some additional contracts with your bank.\n",
    "termsOfService": "https://localhost/tos.html",
    "contact": {
      "name": "Railslove",
      "email": "contact@ebicsbox.com",
      "url": "http://www.ebicsbox.com/"
    },
    "version": "0.1"
  },
  "basePath": "/",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/": {
      "get": {
        "tags": [
          "Service"
        ],
        "summary": "Renders homepage with most relevant information",
        "description": "Renders homepage with most relevant information",
        "responses": {
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/accounts": {
      "get": {
        "tags": [
          "Accessible resources"
        ],
        "summary": "Returns a list of all accessible accounts",
        "description": "Returns a list of all accessible accounts",
        "operationId": "accounts",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "$ref": "#/definitions/Epics::Box::Entities::Account"
              }
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/events": {
      "get": {
        "tags": [
          "Accessible resources"
        ],
        "summary": "List of all events",
        "description": "Paginated list of all events which occured on an organization. These are not account\nspecific. Each event will trigger a webhook delivery as long as a webhook endpoint\nis specified for an account. To get more data on webhook deliveries, please check an\nevents details by following the self source in its _links section.\n",
        "operationId": "events",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "description": "page through the results",
            "type": "integer",
            "default": 1
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "how many results per page",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "$ref": "#/definitions/Epics::Box::Entities::Event"
              }
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/events/{id}": {
      "get": {
        "tags": [
          "Accessible resources"
        ],
        "summary": "Details for an event",
        "description": "Get details on every triggered event. In case of a webhook delivery, all attempts\nare listed. For each attempt we store data on its response and errors if any are\nencountered. After 10 attempts, the system will stop to any retries.\n",
        "operationId": "event_details",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "object",
              "$ref": "#/definitions/Epics::Box::Entities::Event"
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/accounts": {
      "get": {
        "tags": [
          "Management"
        ],
        "summary": "Retrieve a list of all onboarded accounts",
        "description": "Retrieve a list of all onboarded accounts",
        "operationId": "management_accounts",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "$ref": "#/definitions/Epics::Box::Entities::ManagementAccount"
              }
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      },
      "post": {
        "tags": [
          "Management"
        ],
        "summary": "Create a new account",
        "description": "Create a new account",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "required": [
                "name",
                "iban",
                "bic"
              ],
              "type": "object",
              "properties": {
                "name": {
                  "description": "Internal description of account",
                  "type": "string"
                },
                "iban": {
                  "description": "IBAN",
                  "type": "string"
                },
                "bic": {
                  "description": "BIC",
                  "type": "string"
                },
                "bankname": {
                  "description": "Name of bank (for internal purposes)",
                  "type": "string"
                },
                "creditor_identifier": {
                  "description": "creditor_identifier",
                  "type": "string"
                },
                "callback_url": {
                  "description": "callback_url",
                  "type": "string"
                },
                "host": {
                  "description": "host",
                  "type": "string"
                },
                "partner": {
                  "description": "partner",
                  "type": "string"
                },
                "url": {
                  "description": "url",
                  "type": "string"
                },
                "mode": {
                  "description": "mode",
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/accounts/{account_id}/subscribers": {
      "get": {
        "tags": [
          "Management"
        ],
        "summary": "Retrieve a list of all subscribers for given account",
        "description": "Retrieve a list of all subscribers for given account",
        "operationId": "management_account_subscribers",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "$ref": "#/definitions/Epics::Box::Entities::Subscriber"
              }
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      },
      "post": {
        "tags": [
          "Management"
        ],
        "summary": "Add a subscriber to given account",
        "description": "Add a subscriber to given account",
        "operationId": "management_account_subscriber_create",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "required": [
                "user_id",
                "ebics_user"
              ],
              "type": "object",
              "properties": {
                "user_id": {
                  "description": "Internal user identifier to associate the subscriber with",
                  "type": "integer"
                },
                "ebics_user": {
                  "description": "EBICS user to represent",
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/accounts/{account_id}/subscribers/{id}/ini_letter": {
      "get": {
        "tags": [
          "Management"
        ],
        "summary": "Fetch an account's INI letter",
        "description": "Fetch an account's INI letter",
        "operationId": "management_account_ini_letter",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/accounts/{id}": {
      "get": {
        "tags": [
          "Management"
        ],
        "summary": "Retrieve a single account by its IBAN",
        "description": "Retrieve a single account by its IBAN",
        "operationId": "management_account",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "object",
              "$ref": "#/definitions/Epics::Box::Entities::ManagementAccount"
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      },
      "put": {
        "tags": [
          "Management"
        ],
        "summary": "Update an existing account",
        "description": "Update an existing account",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "Internal description of account",
                  "type": "string"
                },
                "iban": {
                  "description": "IBAN",
                  "type": "string"
                },
                "bic": {
                  "description": "BIC",
                  "type": "string"
                },
                "bankname": {
                  "description": "Name of bank (for internal purposes)",
                  "type": "string"
                },
                "creditor_identifier": {
                  "description": "creditor_identifier",
                  "type": "string"
                },
                "callback_url": {
                  "description": "callback_url",
                  "type": "string"
                },
                "host": {
                  "description": "host",
                  "type": "string"
                },
                "partner": {
                  "description": "partner",
                  "type": "string"
                },
                "url": {
                  "description": "url",
                  "type": "string"
                },
                "mode": {
                  "description": "mode",
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/accounts/{id}/submit": {
      "put": {
        "tags": [
          "Management"
        ],
        "summary": "Submit a newly created account?",
        "description": "Submit a newly created account?",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/users": {
      "get": {
        "tags": [
          "Management"
        ],
        "summary": "Retrieve a list of all users",
        "description": "Retrieve a list of all users",
        "operationId": "management_users",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "$ref": "#/definitions/Epics::Box::Entities::User"
              }
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      },
      "post": {
        "tags": [
          "Management"
        ],
        "summary": "Create a new user instance",
        "description": "Create a new user instance",
        "operationId": "management_user_create",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "required": [
                "name"
              ],
              "type": "object",
              "properties": {
                "name": {
                  "description": "The user's display name",
                  "type": "string"
                },
                "token": {
                  "description": "Set a custom access token",
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/management/users/{id}": {
      "get": {
        "tags": [
          "Management"
        ],
        "summary": "Retrieve a single user by its identifier",
        "description": "Retrieve a single user by its identifier",
        "operationId": "management_user",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "object",
              "$ref": "#/definitions/Epics::Box::Entities::User"
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/organizations": {
      "post": {
        "tags": [
          "Registration"
        ],
        "summary": "Create a new organization",
        "description": "Create a new organization",
        "operationId": "registration_organization",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "required": [
                "name"
              ],
              "type": "object",
              "properties": {
                "name": {
                  "description": "The organization's display name",
                  "type": "string"
                },
                "management_token": {
                  "description": "Token to access organization's management features",
                  "type": "string"
                },
                "webhook_token": {
                  "description": "Token to sign organization's webhook payloads",
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/{account}": {
      "get": {
        "tags": [
          "Account specific endpoints"
        ],
        "summary": "Returns detaild information about a single account",
        "description": "Returns detaild information about a single account",
        "operationId": "accounts_show",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "200": {
            "description": "Successful result of the operation",
            "schema": {
              "type": "object",
              "$ref": "#/definitions/Epics::Box::Entities::Account"
            }
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/{account}/credits": {
      "post": {
        "tags": [
          "Account specific endpoints"
        ],
        "summary": "Credit a customer's bank account",
        "description": "Creating a credit by parameter should be the preferred way for low-volume transactions\nesp. for use cases where the PAIN XML isn't generated before.\n\nOnce validated, transactions are transmitted asynchronously to the banking system. Errors\nthat happen eventually are delivered via Webhooks.\n",
        "operationId": "account_credit",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "required": [
                "name",
                "bic",
                "iban",
                "amount",
                "eref"
              ],
              "type": "object",
              "properties": {
                "name": {
                  "description": "the customers name",
                  "type": "string"
                },
                "bic": {
                  "description": "the customers bic",
                  "type": "string"
                },
                "iban": {
                  "description": "the customers iban",
                  "type": "string"
                },
                "amount": {
                  "description": "amount to credit (charged in cents)",
                  "type": "integer"
                },
                "eref": {
                  "description": "end to end id",
                  "type": "string"
                },
                "remittance_information": {
                  "description": "description of the transaction (max. 140 char)",
                  "type": "string"
                },
                "requested_date": {
                  "description": "requested execution date",
                  "type": "integer"
                },
                "service_level": {
                  "description": "requested execution date",
                  "default": "SEPA",
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/{account}/debits": {
      "post": {
        "tags": [
          "Account specific endpoints"
        ],
        "summary": "Debit a customer's bank account",
        "description": "Creating a debit by parameter should be the preferred way for low-volume transactions esp. for use\ncases where the PAIN XML isn't generated before. Transactions can be transmitted either as ```CD1```\nor ```CDD``` depending on the order types your bank is offering you, the ```order_type``` parameter\nlets you choose among them.\n\nsequence_type\n\n* OOFF - one-off debit\n* FRST - first debit\n* RCUR - recurring debit\n* FNAL - final debit\n\nOnce validated, transactions are transmitted asynchronously to the banking system.\nErrors that happen eventually are delivered via Webhooks.\n",
        "operationId": "accounts_debit",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "the content of the request",
            "schema": {
              "required": [
                "name",
                "bic",
                "iban",
                "amount",
                "eref",
                "mandate_id",
                "mandate_signature_date"
              ],
              "type": "object",
              "properties": {
                "name": {
                  "description": "the customers name",
                  "type": "string"
                },
                "bic": {
                  "description": "the customers bic",
                  "type": "string"
                },
                "iban": {
                  "description": "the customers iban",
                  "type": "string"
                },
                "amount": {
                  "description": "amount to debit (positive, charged in cents)",
                  "type": "integer"
                },
                "eref": {
                  "description": "end to end id",
                  "type": "string"
                },
                "mandate_id": {
                  "description": "ID of the SEPA mandate (max. 35 char)",
                  "type": "string"
                },
                "mandate_signature_date": {
                  "description": "when the mandate was signed by the customer",
                  "type": "integer"
                },
                "instrument": {
                  "default": "COR1",
                  "type": "string"
                },
                "sequence_type": {
                  "default": "FRST",
                  "type": "string"
                },
                "remittance_information": {
                  "description": "description of the transaction (max. 140 char)",
                  "type": "string"
                },
                "instruction": {
                  "description": "instruction identification, will not be submitted to the debtor",
                  "type": "string"
                },
                "requested_date": {
                  "description": "requested execution date",
                  "type": "integer"
                }
              }
            }
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/{account}/import/statements": {
      "get": {
        "tags": [
          "Account specific endpoints"
        ],
        "summary": "Manually import statements for a given timeframe",
        "description": "Use this endpoint to manually import statements. This might be useful if another system fetched data via STA and you now need to get this data again.",
        "operationId": "accounts_import_statements",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "from",
            "in": "query",
            "description": "Date from which on to filter the results",
            "type": "date"
          },
          {
            "name": "to",
            "in": "query",
            "description": "Date to which filter results",
            "type": "date"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/{account}/statements": {
      "get": {
        "tags": [
          "Account specific endpoints"
        ],
        "summary": "Retrieve all account statements",
        "description": "Transactions are imported on a daily basis and stored so they can be easily retrieved\nand searched for a timeframe that exceeds the usual timeframe your bank will hold them\non record for you. Besides pulling plain lists it is also possible to filter by eref or\nremittance_infomation.\n\nIt is possible to inspect the raw MT940 data included in the bank statement. To do so,\neither set a header \"Include-Raw-Data\" or attach a query parameter \"raw_data\" and set it\nto a truthy value (ie. true/1).\n",
        "operationId": "accounts_statements",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "transaction_id",
            "in": "query",
            "description": "filter all statements by a specific transaction id",
            "type": "integer"
          },
          {
            "name": "page",
            "in": "query",
            "description": "page through the results",
            "type": "integer",
            "default": 1
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "how many results per page",
            "type": "integer",
            "default": 10
          },
          {
            "name": "from",
            "in": "query",
            "description": "Date from which on to filter the results",
            "type": "date"
          },
          {
            "name": "to",
            "in": "query",
            "description": "Date to which filter results",
            "type": "date"
          },
          {
            "name": "type",
            "in": "query",
            "description": "Type of statement",
            "type": "string"
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    },
    "/{account}/transactions": {
      "get": {
        "tags": [
          "Account specific endpoints"
        ],
        "summary": "Retrieve all executed orders",
        "description": "Retrieve all executed orders",
        "operationId": "accounts_transactions",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "OAuth 2 Bearer token",
            "required": false,
            "type": "string"
          },
          {
            "name": "account",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "description": "page through the results",
            "type": "integer",
            "default": 1
          },
          {
            "name": "per_page",
            "in": "query",
            "description": "how many results per page",
            "type": "integer",
            "default": 10
          }
        ],
        "responses": {
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "No account with given IBAN found"
          },
          "412": {
            "description": "EBICS account credentials not yet activated"
          },
          "default": {
            "description": "Unexpected error"
          }
        }
      }
    }
  },
  "definitions": {
    "Epics::Box::Entities::Account": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Display name for given bank account"
        },
        "iban": {
          "type": "string",
          "description": "Unique bank account IBAN"
        },
        "bic": {
          "type": "string",
          "description": "Bank branch's unique BIC"
        },
        "bankname": {
          "type": "string",
          "description": "Name of bank account's hosting bank"
        },
        "creditor_identifier": {
          "type": "string",
          "description": "Creditor identifier used for direct debits"
        },
        "balance_date": {
          "type": "date",
          "description": "Date of balance"
        },
        "balance_in_cents": {
          "type": "integer",
          "description": "Account balance"
        },
        "test_mode": {
          "type": "boolean",
          "description": "Whether this is a test account"
        },
        "_links": {
          "type": "object",
          "properties": {

          },
          "description": "Links to resources"
        }
      }
    },
    "Epics::Box::Entities::Event": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "account": {
          "type": "string",
          "description": "Display name for given bank account"
        },
        "type": {
          "type": "string"
        },
        "payload": {
          "type": "string"
        },
        "triggered_at": {
          "type": "string"
        },
        "signature": {
          "type": "string"
        },
        "webhook_status": {
          "type": "string"
        },
        "webhook_retries": {
          "type": "string"
        },
        "webhook_deliveries": {
          "type": "object",
          "$ref": "#/definitions/Epics::Box::Entities::WebhookDelivery"
        },
        "_links": {
          "type": "object",
          "properties": {

          },
          "description": "Links to resources"
        }
      }
    },
    "Epics::Box::Entities::ManagementAccount": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Display name for given bank account"
        },
        "iban": {
          "type": "string",
          "description": "Unique bank account IBAN"
        },
        "bic": {
          "type": "string",
          "description": "Bank branch's unique BIC"
        },
        "bankname": {
          "type": "string",
          "description": "Name of bank account's hosting bank"
        },
        "creditor_identifier": {
          "type": "string",
          "description": "Creditor identifier used for direct debits"
        },
        "callback_url": {
          "type": "string",
          "description": "URL where webhooks are sent at"
        },
        "url": {
          "type": "string",
          "description": "Bank's EBICS server URL"
        },
        "host": {
          "type": "string",
          "description": "EBICS Host identifier"
        },
        "partner": {
          "type": "string",
          "description": "EBICS partner identifier"
        },
        "test_mode": {
          "type": "boolean",
          "description": "Whether this is a test account"
        },
        "subscribers": {
          "type": "object",
          "$ref": "#/definitions/Epics::Box::Entities::Subscriber"
        },
        "_links": {
          "type": "object",
          "properties": {

          },
          "description": "Links to resources"
        }
      }
    },
    "Epics::Box::Entities::Subscriber": {
      "type": "object",
      "properties": {
        "account": {
          "type": "string",
          "description": "Display name for given bank account"
        },
        "id": {
          "type": "integer",
          "description": "Internal id"
        },
        "user_id": {
          "type": "string",
          "description": "Associated user id"
        },
        "ebics_user": {
          "type": "string",
          "description": "EBICS user identifier"
        },
        "signature_class": {
          "type": "string",
          "description": "EBICS signature class"
        },
        "state": {
          "type": "string",
          "description": "Current subscriber state"
        },
        "submitted_at": {
          "type": "string",
          "description": "Date and time when EBICS keys were submitted to bank server"
        },
        "activated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Date and time when EBICS credentials have been activated"
        },
        "_links": {
          "type": "object",
          "properties": {

          },
          "description": "Links to resources"
        }
      }
    },
    "Epics::Box::Entities::User": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Internal user id"
        },
        "name": {
          "type": "string",
          "description": "Display name for given bank account"
        },
        "access_token": {
          "type": "string",
          "description": "The user's access token"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Date and time when user was created"
        },
        "subscribers": {
          "type": "object",
          "$ref": "#/definitions/Epics::Box::Entities::Subscriber"
        },
        "_links": {
          "type": "object",
          "properties": {

          },
          "description": "Links to resources"
        }
      }
    },
    "Epics::Box::Entities::WebhookDelivery": {
      "type": "object",
      "properties": {
        "delivered_at": {
          "type": "string"
        },
        "response_body": {
          "type": "string"
        },
        "reponse_headers": {
          "type": "string"
        },
        "response_status": {
          "type": "string"
        },
        "response_time": {
          "type": "string"
        }
      }
    }
  }
}